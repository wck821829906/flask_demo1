{% extends 'base.html' %}

{% block content %}
    <div class="container">
<form class="form-horizontal" method="post" action="/snsche/add">
  <div class="form-group">
    <label for="ip" class="col-sm-2 control-label">{{ form.ip.label }}</label>
    <div class="col-sm-3">
      <input type="ip" class="form-control" id="ip" placeholder="ip" name="ip">
    </div>
  </div>
  <div class="form-group">
    <label for="inputPassword3" class="col-sm-2 control-label">{{ form.name.label }}</label>
    <div class="col-sm-3">
      <input type="text" class="form-control" id="name" placeholder="job name" name="name">
    </div>
  </div>
    <div class="form-group">
    <label for="cmd" class="col-sm-2 control-label">{{ form.cmd.label }}</label>
    <div class="col-sm-3">
      <input type="text" class="form-control" id="cmd" placeholder="cmd" name="cmd">
    </div>
  </div>
    <div class="form-group">
    <label for="trigger" class="col-sm-2 control-label">{{ form.trigger.label }}</label>
    <div class="col-sm-3">
      <select class="form-control" name="trigger" id="trigger">
          <option>interval</option>
          <option>cron</option>
          <option>date</option>
      </select>
    </div>
  </div>



<div id="interval" style="">
      <div class="form-group">
    <label for="seconds" class="col-sm-2 control-label">{{ form.sec.label }}</label>
    <div class="col-sm-3">
      <input type="text" class="form-control" id="seconds" placeholder="seconds" name="sec">
    </div>
  </div>
      <div class="form-group">
    <label for="seconds" class="col-sm-2 control-label">{{ form.min.label }}</label>
    <div class="col-sm-3">
      <input type="text" class="form-control" id="minutes" placeholder="minutes" name="min">
    </div>
  </div>
      <div class="form-group">
    <label for="seconds" class="col-sm-2 control-label">{{ form.hour.label }}</label>
    <div class="col-sm-3">
      <input type="text" class="form-control" id="hour" placeholder="hour" name="hour">
    </div>
          </div>
          <div class="form-group">
    <label for="seconds" class="col-sm-2 control-label">{{ form.day.label }}</label>
    <div class="col-sm-3">
      <input type="text" class="form-control" id="day" placeholder="day" name="hour">
    </div>
              </div>
              <div class="form-group">
    <label for="weekend" class="col-sm-2 control-label">{{ form.weekend.label }}</label>
    <div class="col-sm-3">
      <input type="text" class="form-control" id="weekend" placeholder="weekend" name="weekend">
    </div>
  </div>
  <div class="form-group">
                <label for="start_date1" class="col-sm-2 control-label">{{ form.start_date.label }}</label>
                <div class="input-group date form_datetime col-sm-3">
                    <input class="form-control"  type="text" value="" readonly name="start_date">
                    <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
					<span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
                </div>
				<input type="hidden" id="start_date" value="" />
    </div>
      <div class="form-group">
                <label for="end_date11" class="col-sm-2 control-label">{{ form.end_date.label }}</label>
                <div class="input-group date form_datetime col-sm-3">
                    <input class="form-control"  type="text" value="" readonly name="end_date">
                    <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
					<span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
                </div>
				<input type="hidden" id="end_date" value="" />
    </div>
</div>
    <div id="dateselect" style="display:none">
        <div class="form-group">
                <label for="run_date1" class="col-sm-2 control-label">{{ form.start_date.label }}</label>
                <div class="input-group date form_datetime col-sm-3">
                    <input class="form-control"  type="text" value="" readonly name="run_date">
                    <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
					<span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
                </div>
				<input type="hidden" id="run_date" value="" />
    </div>
    </div>
    <div class="form-group">
    <label for="cmd" class="col-sm-2 control-label">{{ form.comment.label }}</label>
    <div class="col-sm-3">
      <textarea class="form-control" rows="3" name="comment"></textarea>
    </div>
  </div>

  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-default">submit</button>
    </div>
  </div>
</form>
    </div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script type="text/javascript">
$('.form_datetime').datetimepicker({
        //language:  'fr',
        format: "yyyy-mm-dd  hh:ii",
        weekStart: 1,
        todayBtn:  1,
		autoclose: 1,
		todayHighlight: 1,
		startView: 2,
		forceParse: 0,
        showMeridian: 1
    });

    $(function(){
        $('#trigger').change(function(){
             if($('#trigger').val() == 'date'){
                    $('#interval').hide();
                    $('#dateselect').show();
        }else if($('#trigger').val() == 'interval' || $('#trigger').val() == 'cron'){
                 $('#dateselect').hide();
                 $('#interval').show();
             }
        });
    });
</script>
{% endblock %}